@tailwind base;
@tailwind components;
@tailwind utilities;

/* Screen reader only utility */
@layer utilities {
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }
  
  /* Enhanced focus-visible for accessibility */
  .focus-visible-ring {
    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-background;
  }
}

/* Global focus-visible enhancement */
@layer base {
  *:focus-visible {
    outline: 2px solid hsl(var(--accent));
    outline-offset: 2px;
  }
  
  /* Remove outline for mouse users, keep for keyboard users */
  *:focus:not(:focus-visible) {
    outline: none;
  }
  
  /* Smooth scrolling with reduced-motion support */
  @media (prefers-reduced-motion: no-preference) {
    html {
      scroll-behavior: smooth;
    }
  }
  
  /* Custom scrollbar styling */
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--border)) transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--border));
    border-radius: 4px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--border) / 0.8);
  }
}

/* Define CSS variables for light and dark themes - OKLCH for consistent contrast */
:root {
  /* Base */
  --bg: 0 0% 99%;
  --surface: 0 0% 98%;
  --text: 222 84% 5%;
  --text-muted: 220 9% 46%;
  
  /* Legacy compat */
  --background: var(--bg);
  --foreground: var(--text);
  --card: var(--surface);
  --card-foreground: var(--text);
  --popover: var(--surface);
  --popover-foreground: var(--text);
  
  /* Accent colors - vibrant cyan/blue aurora */
  --primary: 210 89% 43%;
  --primary-foreground: 210 40% 98%;
  --accent: 195 95% 58%;
  --accent-foreground: 220 84% 5%;
  --accent-2: 270 85% 65%;
  
  /* Supporting */
  --secondary: 210 40% 96%;
  --secondary-foreground: 210 40% 10%;
  --muted: 210 30% 95%;
  --muted-foreground: 215 16% 47%;
  --destructive: 0 84% 60%;
  --destructive-foreground: 210 40% 98%;
  
  /* Borders & UI */
  --border: 214 32% 91%;
  --input: 214 32% 91%;
  --ring: 215 20% 65%;
  --radius: 0.75rem;
  
  /* Glass & glow effects */
  --glass-border: rgba(255, 255, 255, 0.2);
  --glow-color: rgba(56, 189, 248, 0.3);
}

.dark {
  /* Base */
  --bg: 222 84% 5%;
  --surface: 220 40% 8%;
  --text: 210 40% 98%;
  --text-muted: 215 20% 65%;
  
  /* Legacy compat */
  --background: var(--bg);
  --foreground: var(--text);
  --card: var(--surface);
  --card-foreground: var(--text);
  --popover: var(--surface);
  --popover-foreground: var(--text);
  
  /* Accent colors - aurora glow */
  --primary: 208 83% 53%;
  --primary-foreground: 210 40% 98%;
  --accent: 195 95% 58%;
  --accent-foreground: 220 84% 98%;
  --accent-2: 270 85% 65%;
  
  /* Supporting */
  --secondary: 217 33% 18%;
  --secondary-foreground: 210 40% 98%;
  --muted: 217 33% 15%;
  --muted-foreground: 215 20% 65%;
  --destructive: 0 63% 31%;
  --destructive-foreground: 210 40% 98%;
  
  /* Borders & UI */
  --border: 217 33% 18%;
  --input: 217 33% 18%;
  --ring: 213 27% 84%;
  
  /* Glass & glow effects */
  --glass-border: rgba(255, 255, 255, 0.1);
  --glow-color: rgba(56, 189, 248, 0.4);
}

html, body {
  background: hsl(var(--bg));
  color: hsl(var(--text));
}

/* Custom animations */
@keyframes progress {
  0% { transform: translateX(-100%) scaleX(0.1); }
  50% { transform: translateX(0) scaleX(1); }
  100% { transform: translateX(100%) scaleX(0.1); }
}

.animate-progress {
  animation: progress 2s infinite ease-in-out;
}

@keyframes slide-in {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-slide-in {
  animation: slide-in 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
}
